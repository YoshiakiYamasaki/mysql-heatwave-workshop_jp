# Lab 2: Bastionホストとして機能するコンピュートインスタンスを作成する

## 実施すること

- 特定のコンパートメントにコンピュートインスタンスを作成する方法を学びます 


## 概要

Bastionは、インターネットなどの外部ネットワークからプライベートネットワークにアクセスするためのパブリック・エントリポイントとして機能するコンピュートインスタンスです。 プライベートネットワークにアクセスするには、トラフィックがBastionホストを通過する必要があります。Bastionのセキュリティ設定を行うことで、トラフィックを処理できます。

Bastionについてはホワイトペーパーをご参照ください: **[仮想クラウド・ネットワークのための保護アクセス](https://docs.oracle.com/cd/F34086_01/bastion-hosts_jp.pdf)**. 


## 手順

### **Step 2.1:**
- 画面左上のメニューから _**コンピュート >> インスタンス**_ を選択します。
  
![](./images/HW11_ci.png)

### **Step 2.2:** 
- 画面左下のコンパートメント一覧からVCNを作成した際に選択コンパートメントと同じコンパートメントを選択します。_**インスタンスの作成**_ をクリックします。

![](./images/HW12_ci.png)

### **Step 2.3:** 
- _**名前**_ に _**mysql-analytics-test-bridge**_ (もしくは任意の名前)を入力します。 この名前は内部のFQDNとして使用されます。
  _**配置**_ および _**イメージとシェイプ**_ セクションではアベイラビリティ・ドメイン、フォルト・ドメイン、使用するイメージ、シェイプを設定することができます。ここでは、デフォルトの設定で進めます。

- ネットワーキングでは、 作成したVCNが選択されていることを確認し、パブリック・サブネット(_**パブリック・サブネット - analytics_vcn_test**_) をドロップダウンメニューから選択します。
  
![](./images/HW13_ci.png)


### **Step 2.4:** 
- 画面下にスクロールすると秘密キーを保存するか確認するセクションがあります。 
この秘密キーは後でコンピュート・インスタンスに接続する際に必要になります。
秘密キーを保存し、_**作成**_ をクリックします。

![](./images/HW15_ci.png)

### **Step 2.5:** 
- コンピュート・インスタンスが起動すると、アイコンが緑色に変わります。
 インスタンスが起動するまで、次のLabを実施することができます。
  
![](./images/HW16_ci.png)

## まとめ

このLabでは、前のLabで作成したVCNへのパブリック・エントリポイントであるBastionホストとして機能するコンピュート・インスタンスを作成しました。また、ローカルデバイスに秘密鍵を保存して、コンピューティングインスタンスに接続できるようにしました。次に、Heatwaveを利用するMySQLデータベースサービス（MDS）をデプロイしましょう！
 
コンピュート・インスタンスについては **[Computeサービスの概要](https://docs.oracle.com/ja-jp/iaas/Content/Compute/Concepts/computeoverview.htm)** を参照ください。

 **[<< Lab 1](/Lab1/README.md)** | **[Home](../README.md)** | **[Lab 3 >>](/Lab3/README.md)**
